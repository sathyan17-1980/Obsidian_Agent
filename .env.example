# Environment
ENVIRONMENT=development

# Server Configuration
HOST=0.0.0.0
PORT=8030

# API Configuration
OPENAI_COMPATIBLE_API_KEY=dev-key-change-in-production

# Provider API Keys
# Configure the API key for your chosen provider. You only need ONE of these:
# - OPENAI_API_KEY: For OpenAI models (gpt-4o, gpt-4o-mini, etc.)
# - ANTHROPIC_API_KEY: For direct Anthropic API access to Claude models
# - OPENROUTER_API_KEY: For multi-model access via OpenRouter (supports multiple providers)

OPENAI_API_KEY=sk-your-openai-key-here
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here
OPENROUTER_API_KEY=sk-or-your-openrouter-key-here

# Model Configuration
# Model name format: <provider>:<model>
# The provider prefix determines which API key is used:
#
# OpenAI models:
#   MODEL_NAME=openai:gpt-4o-mini
#   MODEL_NAME=openai:gpt-4o
#
# Anthropic models (direct API):
#   MODEL_NAME=anthropic:claude-3-5-sonnet-latest
#   MODEL_NAME=anthropic:claude-3-5-haiku-latest
#   MODEL_NAME=anthropic:claude-3-opus-latest
#
# OpenRouter models (any provider):
#   MODEL_NAME=openrouter:anthropic/claude-haiku-4.5
#   MODEL_NAME=openrouter:openai/gpt-4o
#   MODEL_NAME=openrouter:google/gemini-pro-1.5
#
# Choose based on your needs:
# - OpenAI: Use for GPT models with direct API access
# - Anthropic: Use for Claude models with lowest latency and direct API access
# - OpenRouter: Use for cost optimization, multi-model support, and automatic fallback
MODEL_NAME=anthropic:claude-haiku-4-5-20251001

# Tool Configuration
ENABLE_CALCULATOR=true

# Obsidian Vault Configuration
# Set to your Obsidian vault path (absolute path recommended)
OBSIDIAN_VAULT_PATH=/path/to/your/obsidian/vault

# Consolidated Obsidian Tools (Anthropic Option B Architecture)
# These high-level tools consolidate what would otherwise be 12+ primitive tools
ENABLE_OBSIDIAN_NOTE_MANAGER=true     # Read, write, patch, append, delete notes
ENABLE_OBSIDIAN_VAULT_QUERY=true      # Search by content, properties, tags, Dataview
ENABLE_OBSIDIAN_GRAPH_ANALYZER=true   # Knowledge graph navigation and analysis
ENABLE_OBSIDIAN_VAULT_ORGANIZER=true  # Batch move, tag, archive, delete operations
ENABLE_OBSIDIAN_FOLDER_MANAGER=true   # Create, rename, move, delete, list folders (auto-updates wikilinks)
ENABLE_WEB_SEARCH=true                # Web search using DuckDuckGo (no API key required)


# Vault Safety Limits
MAX_FILE_SIZE_MB=10
MAX_SEARCH_RESULTS=20
MAX_GRAPH_DEPTH=3  # Maximum depth for graph traversal
MAX_BATCH_ORGANIZE=20  # Maximum notes per batch organize operation
MAX_FOLDER_DEPTH=10  # Maximum depth for recursive folder listing
MAX_WIKILINK_SCAN_NOTES=1000  # Maximum notes to scan when updating wikilinks after folder rename/move

# Agent Configuration
# System prompt defines the agent's personality and capabilities
# AGENT_SYSTEM_PROMPT="You are a helpful AI assistant..."  # Optional, has a good default
# Number of retries for failed agent requests and tool calls
AGENT_RETRIES=3
# Number of retries for output validation failures (when using structured outputs)
AGENT_OUTPUT_RETRIES=2

# CORS Configuration (for Obsidian Copilot and other browser-based clients)
# Enable CORS to allow cross-origin requests from browser-based applications
CORS_ENABLED=true
# Comma-separated list of allowed origins
# Development: Use localhost and 127.0.0.1
# Obsidian Copilot: Add app://obsidian.md
# Production: Add your production domain(s)
CORS_ORIGINS=http://localhost,http://127.0.0.1,app://obsidian.md
# Allow credentials (Authorization headers, cookies) in CORS requests
CORS_ALLOW_CREDENTIALS=true
